<UserControl x:Class="SelfCheckoutApp.View.ProductSearchV"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:SelfCheckoutApp.View"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:viewmodel="clr-namespace:SelfCheckoutApp.ViewModel"
             d:DesignHeight="450"
             d:DesignWidth="800"
             mc:Ignorable="d">

    <materialDesign:Card Margin="5">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!--  Titre  -->
            <TextBlock Grid.Row="0"
                       Margin="5"
                       HorizontalAlignment="Center"
                       FontSize="24"
                       FontWeight="Bold"
                       Text="Recherche de produit" />

            <!--  Zone de recherche  -->
            <TextBox x:Name="SearchTextBox"
                     Grid.Row="1"
                     Margin="5"
                     materialDesign:HintAssist.Hint="Rechercher un produit"
                     Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                     Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}" />

            <!--  Tableau des résultats  -->
            <DataGrid Grid.Row="2"
                      Margin="5"
                      AutoGenerateColumns="False"
                      CanUserAddRows="False"
                      CanUserDeleteRows="False"
                      GridLinesVisibility="Horizontal"
                      HeadersVisibility="Column"
                      IsReadOnly="True"
                      ItemsSource="{Binding ProductSearchResults}"
                      SelectedItem="{Binding SelectedProduct}"
                      SelectionMode="Single">

                <DataGrid.Columns>
                    <DataGridTextColumn Width="auto"
                                        Binding="{Binding Code}"
                                        Header="Code" />
                    <DataGridTextColumn Width="auto"
                                        Binding="{Binding Name}"
                                        Header="Nom" />
                    <DataGridTextColumn Width="auto"
                                        Binding="{Binding Price, StringFormat=C}"
                                        Header="Prix" />
                    <DataGridTextColumn Width="auto"
                                        Binding="{Binding Stock}"
                                        Header="Stock" />
                    <DataGridTextColumn Width="auto"
                                        Binding="{Binding Category}"
                                        Header="Catégorie" />
                </DataGrid.Columns>
            </DataGrid>

            <materialDesign:Card Grid.Row="3" Margin="5">
                <StackPanel>
                    <!--  Rangée Q-P  -->
                    <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                        <Button Click="Key_Click"
                                Content="Q"
                                Tag="Q" />
                        <Button Click="Key_Click"
                                Content="W"
                                Tag="W" />
                        <Button Click="Key_Click"
                                Content="E"
                                Tag="E" />
                        <Button Click="Key_Click"
                                Content="R"
                                Tag="R" />
                        <Button Click="Key_Click"
                                Content="T"
                                Tag="T" />
                        <Button Click="Key_Click"
                                Content="Y"
                                Tag="Y" />
                        <Button Click="Key_Click"
                                Content="U"
                                Tag="U" />
                        <Button Click="Key_Click"
                                Content="I"
                                Tag="I" />
                        <Button Click="Key_Click"
                                Content="O"
                                Tag="O" />
                        <Button Click="Key_Click"
                                Content="P"
                                Tag="P" />
                    </StackPanel>

                    <!--  Rangée A-L  -->
                    <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                        <Button Click="Key_Click"
                                Content="A"
                                Tag="A" />
                        <Button Click="Key_Click"
                                Content="S"
                                Tag="S" />
                        <Button Click="Key_Click"
                                Content="D"
                                Tag="D" />
                        <Button Click="Key_Click"
                                Content="F"
                                Tag="F" />
                        <Button Click="Key_Click"
                                Content="G"
                                Tag="G" />
                        <Button Click="Key_Click"
                                Content="H"
                                Tag="H" />
                        <Button Click="Key_Click"
                                Content="J"
                                Tag="J" />
                        <Button Click="Key_Click"
                                Content="K"
                                Tag="K" />
                        <Button Click="Key_Click"
                                Content="L"
                                Tag="L" />
                    </StackPanel>

                    <!--  Rangée Z-M  -->
                    <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                        <Button Click="Key_Click"
                                Content="Z"
                                Tag="Z" />
                        <Button Click="Key_Click"
                                Content="X"
                                Tag="X" />
                        <Button Click="Key_Click"
                                Content="C"
                                Tag="C" />
                        <Button Click="Key_Click"
                                Content="V"
                                Tag="V" />
                        <Button Click="Key_Click"
                                Content="B"
                                Tag="B" />
                        <Button Click="Key_Click"
                                Content="N"
                                Tag="N" />
                        <Button Click="Key_Click"
                                Content="M"
                                Tag="M" />
                        <Button Click="Key_Click"
                                Content="-"
                                Tag="-" />
                    </StackPanel>


                    <!--  espace + effacer  -->
                    <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                        <Button Width="160" Click="Space_Click">
                            <materialDesign:PackIcon Width="22"
                                                     Height="22"
                                                     Kind="KeyboardSpace" />
                        </Button>
                        <Button Width="80" Click="Backspace_Click">
                            <materialDesign:PackIcon Width="22"
                                                     Height="22"
                                                     Kind="BackspaceOutline" />
                        </Button>
                    </StackPanel>
                </StackPanel>
            </materialDesign:Card>

            <!--  Boutons  -->
            <StackPanel Grid.Row="4"
                        HorizontalAlignment="Right"
                        VerticalAlignment="Bottom"
                        Orientation="Horizontal">
                <Button Grid.Column="0"
                        Margin="5"
                        HorizontalAlignment="Left"
                        Background="Red"
                        Foreground="White"
                        Style="{StaticResource MaterialDesignRaisedButton}">
                    <TextBlock Text="Annuler"
                               TextAlignment="Center"
                               TextWrapping="Wrap" />
                </Button>
                <Button Grid.Column="1"
                        Margin="5"
                        HorizontalAlignment="Stretch"
                        Background="Green"
                        Foreground="White"
                        Style="{StaticResource MaterialDesignRaisedButton}">
                    <TextBlock Text="Confirmer"
                               TextAlignment="Center"
                               TextWrapping="Wrap" />
                </Button>
            </StackPanel>
        </Grid>
    </materialDesign:Card>
</UserControl>
